try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1fb1fe93-1d4e-492e-9a19-8e65aa5a64eb",e._sentryDebugIdIdentifier="sentry-dbid-1fb1fe93-1d4e-492e-9a19-8e65aa5a64eb")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"53afaa86e08f0a0563b6b329ee516b9c9e3be6e7"}}catch(e){}}(),(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["ondemand.InlinePlayer","loader.AudioContextSpaceClip","loader.AudioOnlyVideoPlayer"],{636e3:(e,t,r)=>{r.d(t,{Tc:()=>u,yt:()=>c});var n=r(817989),i=r(571235),a=(r(154917),r(20959),r(711749),r(154141),r(616987),r(834074),r(790242),r(652983),r(333030)),o=r(376590),l=r(421088),s={autoplayPrioritizationPolicy:r(259421).Qr,minimumVisibilityForAutoplay:.25},c=function(){return(0,i.Z)((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;(0,n.Z)(this,e),this._players=[],this._setPlayerState=function(e,r){e.previousPlaybackState=e.playbackState,e.playbackState=r,t._updatePlayerStateForDocking(e,r)},this._updatePlayerStateForDocking=function(e,r){if(r===a.q.USER_PLAYING){var n=e.previousPlaybackState===a.q.USER_PAUSED;if(t._updateDockedVideo&&"function"==typeof e.registerDockElement&&!n){var i=e.registerDockElement();t._updateDockedVideo(i,e.id)}else t._updateIsUserPaused&&t._updateIsUserPaused(!1)}else r===a.q.USER_PAUSED?t._updateIsUserPaused&&t._updateIsUserPaused(!0):r===a.q.AUTO_PLAYING&&t._updateIsUserPaused&&t._updateIsUserPaused(!1);t._updateInlinePlayerState&&t._updateInlinePlayerState(t._players)},this._updatePlaybackStates=function(){var e=t._players.find((function(e){return e.playbackState===a.q.USER_PLAYING&&e.playbackPriority!==a.W.SPACE}));e&&!t._canPlay(e)?(t._pausePlayer(e),t._triggerAutoplay()):e?t._stopAllExcept(e):t._triggerAutoplay()},this._scheduleUpdate=(0,l.Z)((0,o.Z)(this._updatePlaybackStates,window.requestIdleCallback?function(e){return window.requestIdleCallback(e,{timeout:200})}:window.requestAnimationFrame),300,{leading:!1,trailing:!0});var i=r.autoplayPrioritizationPolicy,c=r.minimumVisibilityForAutoplay;this._autoplayPrioritizationPolicy=i,this._minimumVisibilityForAutoplay=c}),[{key:"register",value:function(e){var t=this,r=e.autoplayGroupOptions,n=e.canAutoplay,i=e.id,o=e.isLooping,l=e.onAutoPlayRequest,s=e.onFullscreenEntered,c=e.onFullscreenExited,u=e.onPauseRequest,d=e.playbackPriority,p=void 0===d?a.W.NORMAL:d,y=e.registerDockElement,f=e.updateDockedVideo,v=e.updateIsUserPaused;this._updateDockedVideo=f,this._updateIsUserPaused=v;var _={id:i,autoplayGroupEmitter:null==r?void 0:r.autoplayGroupEmitter,placement:void 0,playbackPriority:p,playbackState:a.q.INITIAL,previousPlaybackState:a.q.INITIAL,commandHandlers:{onAutoPlayRequest:l,onFullscreenEntered:s,onFullscreenExited:c,onPauseRequest:u},canAutoplay:n&&p!==a.W.INELIGIBLE,isLooping:o,registerDockElement:y};return r&&r.autoplayGroupEmitter.registerAutoplayGroupPlayer(_,r.mediaIndex),this._players.push(_),{reset:function(){return t._handleReset(_)},signalFullscreenChange:function(e){return t._handleFullscreenChanged(e)},signalPlacementChange:function(e){return t._handlePlacementChange(_,e)},signalPlay:function(){return t._handlePlay(_)},signalPause:function(){return t._handlePause(_)},signalPlaybackFinish:function(e){return t._handlePlaybackFinished(_,e)},signalPlaybackPriorityChange:function(e,r){return t._handlePlaybackPriorityChange(_,e,r)},unregister:function(){return t._handleUnregister(_)}}}},{key:"_handleFullscreenChanged",value:function(e){this._players.forEach((function(t){var r=t.commandHandlers,n=r.onFullscreenEntered,i=r.onFullscreenExited;e&&n?n():!e&&i&&i()}))}},{key:"_handlePlacementChange",value:function(e,t){var r=t.scrollY();e.placement=t,this._scrollY!==r&&(this._scrollY=r),e.playbackState===a.q.FINISHED&&0===t.visibleFraction()&&this._setPlayerState(e,a.q.INITIAL),this._scheduleUpdate()}},{key:"_handlePlay",value:function(e){e.playbackState!==a.q.AUTO_PLAYING&&(e.previousPlaybackState===a.q.AUTO_PLAYING&&e.isLooping?this._setPlayerState(e,a.q.AUTO_PLAYING):this._setPlayerState(e,a.q.USER_PLAYING)),this._stopAllExcept(e)}},{key:"_handlePause",value:function(e){e.playbackState!==a.q.AUTO_PAUSED&&this._setPlayerState(e,a.q.USER_PAUSED)}},{key:"_handlePlaybackFinished",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._setPlayerState(e,a.q.FINISHED),e.autoplayGroupEmitter&&e.autoplayGroupEmitter.signalPlaybackComplete(t)}},{key:"_handlePlaybackPriorityChange",value:function(e,t,r){e.playbackPriority=t,e.canAutoplay=r&&t!==a.W.INELIGIBLE,this._scheduleUpdate()}},{key:"_handleReset",value:function(e){this._setPlayerState(e,a.q.INITIAL),this._scheduleUpdate()}},{key:"_handleUnregister",value:function(e){var t=this._players.indexOf(e);t>=0&&this._players.splice(t,1),this._scheduleUpdate()}},{key:"_triggerAutoplay",value:function(){var e=this;if(!document.pictureInPictureElement){var t=new WeakMap,r=this._players.filter((function(r){var n=e._canAutoPlay(r);return r.autoplayGroupEmitter?n&&e._canGroupAutoplay(r.autoplayGroupEmitter,t):n})),n=this._findBestAutoplayFit(r);if(n){var i=n.autoplayGroupEmitter;if(i){var o=i.signalGroupAutoplayRequest();o&&(this._stopAllExcept(o),this._autoPlayVideo(o))}else this._stopAllExcept(n),this._autoPlayVideo(n)}else this._players.forEach((function(t){t.playbackState===a.q.AUTO_PLAYING&&e._pausePlayer(t)}))}}},{key:"_canGroupAutoplay",value:function(e,t){if(t.has(e))return t.get(e);var r=e.isAutoplayGroupEligibleForAutoplay();return t.set(e,r),r}},{key:"_canAutoPlay",value:function(e){var t=!!e.placement&&e.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,r=e.playbackState===a.q.USER_PAUSED,n=e.playbackState===a.q.FINISHED;return e.canAutoplay&&t&&!r&&!n}},{key:"_canPlay",value:function(e){var t=!!e.placement&&e.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,r=!!e.placement&&e.placement.visibleFraction()>0;return e.playbackPriority!==a.W.INELIGIBLE&&(!e.placement||r||t)}},{key:"_stopAllExcept",value:function(e){var t=this;this._players.forEach((function(r){var n=r.playbackPriority!==a.W.SPACE;r===e||!n||r.playbackState!==a.q.USER_PLAYING&&r.playbackState!==a.q.AUTO_PLAYING||t._pausePlayer(r)}))}},{key:"_pausePlayer",value:function(e){var t=e.commandHandlers.onPauseRequest;this._setPlayerState(e,a.q.AUTO_PAUSED),t()}},{key:"_autoPlayVideo",value:function(e){var t=e.commandHandlers.onAutoPlayRequest;this._setPlayerState(e,a.q.AUTO_PLAYING),t()}},{key:"_findBestAutoplayFit",value:function(e){return this._autoplayPrioritizationPolicy(e)}},{key:"_getDistanceToCenter",value:function(e){return e.placement?e.placement.distanceToCenter():Number.MAX_VALUE}},{key:"_getDistanceToTop",value:function(e){return e.placement?e.placement.distanceToTop():Number.MAX_VALUE}}])}(),u=new c},987028:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(817989),i=r(571235),a=r(37271),o=r(515992),l=r(728944),s=r(652983),c=r(106677),u=r(763880),d=r(155820),p=r(675870),y=function(){return(0,i.Z)((function e(t,r,i){(0,n.Z)(this,e),this.placement=t,this.obstructions=r,this.layerId=i}),[{key:"getPositionData",value:function(){return{percentVisible:this.visibleFraction(),percentOfViewportOccupied:this.placement.viewportOccupiedFraction(),sizesInfo:{viewportSize:this.placement.viewport,mediaSize:this.placement.item}}}},{key:"visibleFraction",value:function(){var e=this.placement.visiblePart();if(!e)return 0;var t=this.layerId?this.obstructions.getObstructionAboveLayer(this.layerId,e):this.obstructions.getTotalObstruction(e),r=p.Z.area(this.placement.item),n=(1-t)*p.Z.area(e);return r>0?n/r:0}},{key:"top",value:function(){return this.placement.item.top}},{key:"distanceToCenter",value:function(){return this.placement.verticalDistanceToViewportCenter()}},{key:"distanceToTop",value:function(){return this.placement.verticalDistanceToViewportTop()}},{key:"scrollY",value:function(){return this.placement.scrollY}}])}(),f=r(397458);function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var _=function(e){function t(){var e,r,i,l;(0,n.Z)(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,i=t,l=[].concat(c),i=(0,o.Z)(i),(e=(0,a.Z)(r,v()?Reflect.construct(i,l||[],(0,o.Z)(r).constructor):i.apply(r,l)))._handlePageVisibilityChange=function(){if(e._placement){var t=e.props,r=t.layerId,n=t.obstructionDetection,i=t.onPageVisibilityChange,a=document.visibilityState,o=e._obstructions||n.getObstructions(),l=new y(e._placement,o,r);i&&i(a,l)}},e._handlePlacementChange=function(t){e._updateAndNotify({placement:t},e.props.onChange)},e._handleObstructionChange=function(){var t=e.props,r=t.obstructionDetection,n=t.onChange;e._updateAndNotify({obstructions:r.getObstructions()},n)},e._setPlacementRef=function(t){e._placementRef=t},e}return(0,l.Z)(t,e),(0,i.Z)(t,[{key:"sample",value:function(e){var t=this;this._placementRef&&this._placementRef.sample((function(r){t._updateAndNotify({placement:r},e)}))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.style;return(0,f.jsx)(d.ZP,{onPlacementChange:this._handlePlacementChange,ref:this._setPlacementRef,style:r,withScrollListener:!0,children:t})}},{key:"componentDidMount",value:function(){var e=this.props.obstructionDetection;this._obstructionSubscription=e.subscribe(this._handleObstructionChange),document.addEventListener("visibilitychange",this._handlePageVisibilityChange)}},{key:"componentWillUnmount",value:function(){this._obstructionSubscription&&(this._obstructionSubscription.unsubscribe(),this._obstructionSubscription=void 0),document.removeEventListener("visibilitychange",this._handlePageVisibilityChange)}},{key:"_updateAndNotify",value:function(e,t){var r=this,n=e.obstructions,i=e.placement,a=this.props,o=a.layerId,l=a.obstructionDetection;this._placement=i||this._placement,this._obstructions=n||this._obstructions||l.getObstructions(),this._placement?t(new y(this._placement,this._obstructions,o)):this._placementRef&&this._placementRef.sample((function(e){r._placement=e,r._obstructions=r._obstructions||l.getObstructions(),t(new y(e,r._obstructions,o))}))}}])}(s.Component);_.defaultProps={obstructionDetection:c.Z};const h=(0,u.Z)(_)},155820:(e,t,r)=>{r.d(t,{Ow:()=>I,tB:()=>w,xn:()=>A,xh:()=>E,ZP:()=>O});var n=r(817989),i=r(571235),a=r(37271),o=r(515992),l=r(728944),s=(r(711749),r(834074),r(652983)),c=r(457653),u=r(421088),d=r(871781),p=r(918999),y=r(941244),f=r(675870),v=function(){return(0,i.Z)((function e(t,r,i){(0,n.Z)(this,e),this.item=t,this.viewport=r,this.scrollY=i,this._visiblePart=null}),[{key:"isInViewport",value:function(){var e=this.item,t=e.bottom,r=e.left,n=e.right,i=e.top;return r<=this.viewport.right&&n>=this.viewport.left&&i<=this.viewport.bottom&&t>=this.viewport.top}},{key:"visibleFraction",value:function(){return _(this.visiblePart(),this.item)}},{key:"viewportOccupiedFraction",value:function(){return _(this.visiblePart(),this.viewport)}},{key:"verticalDistanceToViewportCenter",value:function(){return Math.abs(m(this.item)-m(this.viewport))}},{key:"verticalDistanceToViewportTop",value:function(){return Math.abs(this.item.top-this.viewport.top)}},{key:"verticalOverlap",value:function(){var e=this.visiblePart();return e?e.height:0}},{key:"visiblePart",value:function(){return null===this._visiblePart&&(this._visiblePart=f.Z.intersection(this.item,this.viewport)),this._visiblePart}}])}(),_=function(e,t){return e?h(f.Z.area(e),f.Z.area(t)):0},h=function(e,t){return 0!==t?e/t:0},m=function(e){return e.top+e.height/2};const b="placementTracking";var g=r(397458);function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var I=0,w=.25,E=.75,A=1,C=function(e){function t(e,r){var i,l,s,c;return(0,n.Z)(this,t),l=this,s=t,c=[e,r],s=(0,o.Z)(s),(i=(0,a.Z)(l,P()?Reflect.construct(s,c||[],(0,o.Z)(l).constructor):s.apply(l,c)))._getScrollPlacement=function(){if(i._element){var e=i.props.viewport,t=i._element.getBoundingClientRect(),r=e.getRect2D(),n=e.scrollY();return new v(y.Z.fromClientRect(t),r,n)}},i._setElementRef=function(e){i._element=e||void 0},i._schedulePositionSampling=function(){var e=i.props.onPlacementChange;i.sample(e)},i._handleIntersectionChange=function(e,t){var r=i.props,n=r.onPlacementChange,a=r.withScrollListener;e.forEach((function(e){if(e.rootBounds&&e.boundingClientRect){var t=new v(y.Z.fromClientRect(e.boundingClientRect),y.Z.fromClientRect(e.rootBounds));n(t)}else{var r=i.props.viewport,o=r.getRect2D(),l=r.scrollY(),s=new v(y.Z.fromClientRect(e.boundingClientRect),o,l);n(s)}var c=a&&i._offscreenVideoScrollerRemovalEnabled;e.intersectionRatio>0&&c&&i._addScrollListener()}))},i._observePlacement=function(){if(i._element){i._disconnectIntersectionObserver&&i._disconnectIntersectionObserver();var e=[I,w,.5,E,A];i._disconnectIntersectionObserver=i.props.viewport.addIntersectionObserverListener(i._handleIntersectionChange,i._element,e)}},e.withScrollListener&&(i._offscreenVideoScrollerRemovalEnabled=i.context.featureSwitches.isTrue("responsive_web_offscreen_video_scroller_removal_enabled")),i}return(0,l.Z)(t,e),(0,i.Z)(t,[{key:"sample",value:function(e){var t=this;window.requestAnimationFrame((function(){var r=t._getScrollPlacement();r&&(t._offscreenVideoScrollerRemovalEnabled&&t._disconnectIntersectionObserver&&0===r.visibleFraction()&&t._removeScrollListener(),e(r))}))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.onLayout,n=e.style,i=e.testID;return(0,g.jsx)(c.Z,{onLayout:r,ref:this._setElementRef,style:n,testID:null!=i?i:b,children:"function"==typeof t?t({getScrollPlacement:this._getScrollPlacement}):t})}},{key:"componentDidMount",value:function(){this._observePlacement(),(this.props.withScrollListener&&!this._offscreenVideoScrollerRemovalEnabled||!window.IntersectionObserver)&&this._addScrollListener()}},{key:"componentWillUnmount",value:function(){this._removeScrollListener(),this._disconnectIntersectionObserver&&this._disconnectIntersectionObserver()}},{key:"_addScrollListener",value:function(){if(!this._unlistenToScroll){var e=(0,u.Z)(this._schedulePositionSampling,150,{trailing:!0});this._unlistenToScroll=this.props.viewport.addScrollListener(e),e()}}},{key:"_removeScrollListener",value:function(){this._unlistenToScroll&&this._unlistenToScroll(),this._unlistenToScroll=void 0}}])}(s.Component);C.contextType=d.rC;const O=(0,p.Z)(C)},119867:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r(652983).createContext({heightsReady:!0})},693461:(e,t,r)=>{r.r(t),r.d(t,{InlinePlayerContainer:()=>fe,default:()=>ve});var n=r(701206),i=r(389123),a=(r(20959),r(711749),r(154141),r(616987),r(834074),r(652983)),o=r(153962),l=r(560175),s=r(398309),c=r(333030),u=r(57214),d=r(720894),p=r(450633),y=r(817989),f=r(571235),v=r(37271),_=r(515992),h=r(728944),m=r(34568),b=r(742371),g=r(203745),P=r(891659),I=r(455027),w=r(406117),E=r(714563),A=r(871781),C=r(159618),O=r(918999),S=r(879590),k=r(198380),T=r(203929),R=r(852989),L=r(457653),D=r(397458),Z=function(e){e.stopPropagation()};const N=function(e){var t=e.children,r=e.testID;return(0,D.jsx)(L.Z,{onClick:Z,style:g.Z.absoluteFill,testID:r,children:t})};var M=r(636e3),F=r(987028);const j="videoPlayer";function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}var q=new P.ZP({}),G=function(e){function t(e,r){var n,i,a,o;(0,y.Z)(this,t),i=this,a=t,o=[e,r],a=(0,_.Z)(a),(n=(0,v.Z)(i,x()?Reflect.construct(a,o||[],(0,_.Z)(i).constructor):a.apply(i,o)))._emitter=null,n._playerInternal=null,n._placementRef=null,n._isLooping=!1,n._isPlayerFullscreen=!1,n._renderHorizonPlayer=function(e){var t=n.props,r=t.additionalBadges,i=t.analytics,a=t["aria-label"],o=t.aspectRatio,l=t.displayOptions,s=t.durationMs,c=t.geolocationPrompt,u=t.includeBroadcastEventAssociation,d=t.intentToPlayTime,p=t.language,y=t.mediaAvailability,f=t.noAuthHttpClient,v=t.playerId,_=t.publisherId,h=t.source,b=h.contentId,g=h.eventId,P=h.videoId,I=h.vmapUrl,w=t.timecode,E=t.twitterAuthedHttpClient,A=t.uiStack,O=t.videoEl,S=t.videoPlayer,k=t.viewCount,T=t.viewCountGraphData,R=n.context.featureSwitches.isTrue("rweb_video_pip_enabled"),L=n.context.featureSwitches.isTrue("rweb_live_broadcast_rewind_enabled");return(0,D.jsx)(C.R.Consumer,{children:function(t){var h=t.prerollDisplayLocation;return(0,D.jsx)(m.Z,V(V({adProvider:n._tweetAdProvider(h),additionalBadges:r,analytics:i,"aria-label":a,aspectRatio:o,basePlayerClass:S,configType:"static",contentId:b,cta:n._getPlayerCTA(),disableHls:n._disableHls,durationMs:s,enablePiP:R,enableVideoPlayerCaptionRendering:!0,eventId:g,featureProvider:n.context.featureSwitches,generateDrmTokenCallback:n.props.generateDrmTokenCallback,geolocationPrompt:c,httpClient:f,includeBroadcastEventAssociation:u,intentToPlayTime:d,language:p,liveBroadcastRewindEnabled:L,mediaAvailability:y,objectFitVideo:l&&l.objectFitVideo,onApiReady:n._handleApiReady,playbackSessionId:P.id,playerId:v,precache:n._shouldAutoplay,publisherId:_,requestedTimecode:w,twitterAuthedHttpClient:E,videoEl:O,videoId:P,viewCount:k,viewCountGraphData:T,vmapUrl:I},e),{},{children:A}))}})},n._setPlayerApi=function(e){var t=n.props,r=t.customOverlay,i=t.onMuteChange,a=t.onSetPlayerApi;"function"==typeof r&&(n._playerInternal=e,n.forceUpdate()),i&&(e.on("unmute",(function(){return i({isPlayerMuted:!1})})),e.on("mute",(function(){return i({isPlayerMuted:!0})}))),e&&(e.on("fullscreenEntered",(function(){return n._handleFullscreenChange({isPlayerFullscreen:!0})})),e.on("fullscreenExited",(function(){return n._handleFullscreenChange({isPlayerFullscreen:!1})}))),n._setPlayerInternal(e),a&&a(e)},n._getPlayerCTA=function(){var e=n.props,t=e.cta,r=e.promotedContent;return t&&V(V({},t),{},{url:(0,S.b)(t.url,null==r?void 0:r.click_tracking_info)})},n._handleApiReady=n._setPlayerApi,n._getLoopingThreshold=function(){var e=n.props,t=e.loopingThresholdMs,r=e.source.videoId;return t||"tweet"===r.type&&6e4||7e3},n._handleAutoPlayRequest=function(){var e=n.props,t=e.onAutoplay,r=e.shouldAutoplayWithoutMuting;n._playerInternal&&(r?n._playerInternal.play():n._playerInternal.playPreview(),t&&t())},n._handlePauseRequest=function(){var e=n.props.onAutopause;n._playerInternal&&(n._playerInternal.pause(),e&&e())},n._handlePlacementChange=function(e){n._emitter&&!n._isPlayerFullscreen&&n._emitter.signalPlacementChange(e),n._playerInternal&&!n._isPlayerFullscreen&&n._playerInternal.updatePosition(e.getPositionData())},n._handlePageVisibilityChange=function(e,t){var r=t.getPositionData();"hidden"===e&&n._playerInternal?n._playerInternal.updatePosition({percentVisible:0,percentOfViewportOccupied:0,sizesInfo:r.sizesInfo}):"visible"===e&&n._playerInternal&&n._playerInternal.updatePosition(r)},n._handlePlaybackComplete=function(e){var t=n.props.onPlaybackComplete;n._emitter&&!1!==(null==e?void 0:e.tracksFinished)&&n._emitter.signalPlaybackFinish(null==e?void 0:e.shouldLoop),t&&t()},n._handlePlaybackStarted=function(){n._emitter&&n._emitter.signalPlay(),n.props.onPlaybackStarted&&n.props.onPlaybackStarted()},n._handlePlaybackPaused=function(){n._emitter&&n._emitter.signalPause()},n._handlePlayerState=function(e){var t=n.props,r=t.onPlayerState,i=t.onProgressChange;r&&r(e);var a=(e.tracks||[]).find((function(t){return t.id===e.currentTrackId}));if(a){var o=(a.currentTimeMs||0)/a.durationMs;i&&i(o,e.tracksFinished)}},n._handleError=function(e){var t=n.props.onError,r=e.error;r?(n._emitter&&(n._emitter.unregister(),n._emitter=void 0,n._hasInitialPlacementMeasurement=!1,n._lastPlayerError=r),e.errorInfo&&!e.errorInfo.canRetry&&(t&&t(),n._onErrorUnsubscribe&&n._onErrorUnsubscribe())):!n._emitter&&n._lastPlayerError&&(n._registerPlaybackCoordination(),n._submitInitialPlacement(),n._lastPlayerError=void 0)},n._handleFullscreenChange=function(e){var t=n.props.viewport;if(n._isPlayerFullscreen=e.isPlayerFullscreen,t){if(t.temporarilySuppressScrollListeners(2e3),w.ZP.isChrome()||w.ZP.isSafari())if(n._isPlayerFullscreen)n._savedScrollPosition={y:t.scrollY(),x:t.scrollX()};else if(n._savedScrollPosition){var r=n._savedScrollPosition,i=r.x,a=r.y;n._savedScrollPosition=void 0,t.scrollTo(i,a)}n._isPlayerFullscreen&&n._playerInternal?n._playerInternal.updatePosition({percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{viewportSize:t.getRect2D(),mediaSize:t.getRect2D()}}):!n._isPlayerFullscreen&&n._placementRef&&n._placementRef.sample(n._handlePlacementChange)}var o=n.props.onFullscreenChange;o&&o(e),n._emitter&&n._emitter.signalFullscreenChange(e.isPlayerFullscreen)},n._registerPlaybackCoordination=function(){var e=n.context.history,t=n.props,r=t.autoplayGroupOptions,i=t.playbackCoordination,a=t.playbackPriority,o=t.registerDockElement,l=t.updateDockedVideo,s=t.updateIsUserPaused,c=t.viewport,u={autoplayGroupOptions:r,onAutoPlayRequest:n._handleAutoPlayRequest,id:e.id,onPauseRequest:n._handlePauseRequest,canAutoplay:n._shouldAutoplay,isLooping:n._isLooping,registerDockElement:o,updateDockedVideo:l,updateIsUserPaused:s,playbackPriority:a,viewport:c};i&&(n._emitter=i.register(u))},n._setPlayerInternal=function(e){if(n._playerInternal=e,e){var t=n.props,r=t.onPlayerState,i=t.onProgressChange;(r||i)&&e.subscribe(n._handlePlayerState),n._onErrorUnsubscribe=e.subscribe(n._handleError),e.on("playbackComplete",n._handlePlaybackComplete),e.on("play",n._handlePlaybackStarted),e.on("pause",n._handlePlaybackPaused),n._registerPlaybackCoordination(),n._submitInitialPlacement()}if(n.props.setPlayer){var a=n._playerInternal&&{play:function(){n._playerInternal&&n._playerInternal.play()},playPreview:function(){n._playerInternal&&n._playerInternal.playPreview()},pause:function(){n._playerInternal&&n._playerInternal.pause()},replay:function(){n._playerInternal&&n._playerInternal.replay()}};n.props.setPlayer(a)}},n._setPlacementAPI=function(e){var t,r;e&&(null===(t=(r=n.props).onSetPlacementRef)||void 0===t||t.call(r,e)),n._placementRef=e,n._submitInitialPlacement()},n._getTweetId=function(){var e=n.props.source.videoId;if(e){if("tweet"===e.type)return e.id;if("broadcast"===e.type)return e.tweetId}},n._tweetAdProvider=function(e){var t=n.props.disablePreroll,r=n._getTweetId();if(r)return function(){return t?{}:n.props.tweetAdProvider(r,e)}};var l=e.autoplay,s=e.disableAutoplay,c=e.forwardPivotInfo,u=r.history;return n._disableHls=!(w.ZP.isDesktopOS()||w.ZP.isAndroid()&&n.context.featureSwitches.isTrue("web_video_hls_android_mse_enabled")),n._shouldAutoplay=!(0,E.HD)(u)&&!s&&(0,R.Z)(l,c),n}return(0,h.Z)(t,e),(0,f.Z)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.heightsReady,n=t.playbackPriority;!e.heightsReady&&r&&this._submitInitialPlacement(),!(0,I.Z)(e.source,this.props.source)&&this._emitter&&this._emitter.reset(),e.playbackPriority!==n&&void 0!==n&&this._emitter&&this._emitter.signalPlaybackPriorityChange(n,this._shouldAutoplay)}},{key:"render",value:function(){var e=this.props,t=e.aspectRatio,r=(e.isDockedVideo,e.poster,t),n=H.aspectRatio;return(0,D.jsx)(b.Z,{ratio:r,style:n,children:(0,D.jsx)(F.Z,{onChange:this._handlePlacementChange,onPageVisibilityChange:this._handlePageVisibilityChange,ref:this._setPlacementAPI,style:g.Z.absoluteFill,children:this._renderPlayer()})})}},{key:"componentWillUnmount",value:function(){this._emitter&&(this._emitter.unregister(),this._emitter=null),this._onErrorUnsubscribe&&this._onErrorUnsubscribe()}},{key:"_renderPlayer",value:function(){var e=this.props,t=e.autoplayGroupOptions,r=e.dataSaverMode,n=e.durationMs,i=e.forceLoop,a=e.maxLoopCount,o=e.poster,l=e.promotedContent,s=e.source.variants,c=e.videoType,u="animated_gif"===c,d="vine"===c,p=s&&s.length?u?"gif":"media_entity":"vmap";this._isLooping=!!(i||u||d||n&&n<=this._getLoopingThreshold());var y={contentType:p,loop:this._isLooping,maxLoopCount:this._isLooping?a:void 0,maxLoopingThresholdSec:t?6:void 0,poster:o&&o.url,promotedContext:l&&(l.impression_id||l.disclosure_type)?{impressionId:l.impression_id,disclosureType:l.disclosure_type}:void 0,shouldCapBitrate:r,variants:s?(0,k.rD)(s):[]};return(0,D.jsx)(N,{testID:j,children:this._renderHorizonPlayer(y)})}},{key:"_submitInitialPlacement",value:function(){var e=this.props.heightsReady&&!this._hasInitialPlacementMeasurement;this._emitter&&this._placementRef&&e&&(this._placementRef.sample(this._handlePlacementChange),this._hasInitialPlacementMeasurement=!0)}}])}(a.Component);G.contextType=A.rC,G.defaultProps={autoplay:T.Z.Off,playbackCoordination:M.Tc,playbackPriority:c.W.NORMAL,showControls:!0,dataSaverMode:!1,geolocationPrompt:!0,heightsReady:!0,noAuthHttpClient:q,includeBroadcastEventAssociation:!1};var H=g.Z.create({aspectRatio:{zIndex:void 0},aspectRatioDocked:{zIndex:void 0,maxHeight:"70vh"}});const B=(0,O.Z)(G);var Y=r(119867),z=r(283634),W=r(407654),J=r(30869),Q=r(22896),X=r(413662),K=r(416254),$=r(418791),ee=r(403233),te=r(430733),re=r(235014),ne=r(727092),ie=function(){return function(e,t,r){return r.api.getHttpClient()}},ae=function(e,t){var r=t.source&&t.source.videoId;return r&&"tweet"===r.type?r.id:void 0},oe=function(e,t){return t.source&&t.source.contentId},le=function(e,t){var r=re.Z.createHydratedTweetSelector(ae)(e,t),n=(0,X.mz)(e);return!!r&&(0,ne.$y)(n,r,ne.d.Autoplay)};const se=(0,Q.Z)().propsFromState((function(){return{dataSaverMode:te.IX,language:ee.VT,sourceTweet:re.Z.createHydratedTweetSelector(ae),disableAutoplay:le,videoContentId:oe}})).adjustStateProps((function(e){var t=e.dataSaverMode,r=e.disableAutoplay,n=e.language,i=e.sourceTweet,a=e.videoContentId;return{dataSaverMode:t,disableAutoplay:r,language:n,mediaAvailability:i&&(0,k.DY)(i,a)||void 0,publisherId:i?(0,k.Pz)(i):void 0}})).propsFromActions((function(){return{createLocalApiErrorHandler:(0,J.zr)("INLINE_PLAYER_CONTAINER"),getTwitterAuthedHttpClient:ie,logPromotedVideoEvent:$.iY,tweetAdProvider:K.Q3}})).withAnalytics();var ce=["createLocalApiErrorHandler","getTwitterAuthedHttpClient","playbackPriority","tweetAdProvider"];function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=(0,o.cn)((function(e){return e(p.F).login().catch((function(){}))})),ye=(0,z.J)();function fe(e){var t=a.useContext(A.rC),r=a.useRef(),n="broadcast"===e.source.videoId.type&&!!t.viewerUserId&&t.featureSwitches.isTrue("rweb_video_logged_in_analytics_enabled");(0,l.Dv)(n?pe:ye);e.createLocalApiErrorHandler;var o=e.getTwitterAuthedHttpClient,y=e.playbackPriority,f=e.tweetAdProvider,v=(0,i.Z)(e,ce),_=(0,l.Dv)(p.F),h=function(t){var r=e.createLocalApiErrorHandler;e.logPromotedVideoEvent(t).catch(r())},m=function(t){var r=t.category,n=t.data,i=t.namespace,a=e.analytics;null!=i&&i.action&&a.scribe(de(de({},i),{},{data:de(de({},n),{},{_category_:r})}))},b=a.useMemo((function(){return o()}),[o]),g=function(r){var i={log:m},a=e.analytics,o={log:t.featureSwitches.isTrue("responsive_web_video_promoted_logging_enabled")?h:u.Z},l=a.contextualScribeNamespace,s=a.contextualScribeData,c=Array.isArray(s.items)?function(t){var r,n=e.analytics,i=e.includeBroadcastEventAssociation,a=e.source.videoId,o=n.contextualScribeData.event_id;r="broadcast"===a.type&&a.tweetId?a.tweetId:"broadcast"===a.type&&i&&o?o:a.id;var l=t.find((function(e){return e.id===r})),s=t.find((function(e){return e.quoted_tweet_id===r}));return s&&s.quoted_tweet_id&&((l=W.Z.forQuoteTweet(s.id?s.id:r,s.quoted_tweet_id)).author_id=s.quoted_author_id),l}(s.items):void 0,p=de({scribeContext:de({},l),baseScribeItem:c,enableShortFormCompleteLogging:t.featureSwitches.isTrue("responsive_web_video_pcomplete_enabled")},n&&{periscopeAuthToken:_.authToken(),userType:_.userType()});return new d.Z(i,o,r,p)}(b),P=function(t){if(r.current=t,e.setPlayer){var n=r&&r.current&&{play:function(){r.current&&r.current.play()},playPreview:function(){r.current&&r.current.playPreview()},pause:function(){r.current&&r.current.pause()},replay:function(){r.current&&r.current.replay()}};e.setPlayer(n)}};return(0,D.jsx)(Y.Z.Consumer,{children:function(e){var t=e.heightsReady;return(0,D.jsx)(s.Z.Consumer,{children:function(e){var r=e.playbackPriority;return(0,D.jsx)(B,de(de({},v),{},{analytics:g,heightsReady:t,playbackPriority:r===c.W.INELIGIBLE?r:y,setPlayer:P,tweetAdProvider:f,twitterAuthedHttpClient:b}))}})}})}const ve=se(fe)},159618:(e,t,r)=>{r.d(t,{D:()=>o,R:()=>a});var n=r(652983),i=r(397458),a=n.createContext({prerollDisplayLocation:void 0}),o=function(e){var t=e.children,r=e.prerollDisplayLocation,o=n.useMemo((function(){return{prerollDisplayLocation:r}}),[r]);return(0,i.jsx)(a.Provider,{value:o,children:t})}},283634:(e,t,r)=>{r.d(t,{J:()=>l});var n=r(153962),i=r(279295),a=r(57214),o=(0,i.xu)((function(e){return(0,n.cn)((function(){return e}),a.Z)}));function l(e){return o(e)}},259421:(e,t,r)=>{r.d(t,{Qr:()=>o,n8:()=>a});r(711749),r(154141);var n=r(333030);const i=function(e,t){if(0!==e.length){for(var r=e[0],n=t(r),i=1;i<e.length;i++){var a=e[i],o=t(a);o<n&&(r=a,n=o)}return r}};var a=function(e){var t,r=null==e||null===(t=e[0])||void 0===t||null===(t=t.placement)||void 0===t?void 0:t.scrollY();return i(e,0===r?function(e){return e.placement?e.placement.distanceToTop():Number.MAX_VALUE}:function(e){return e.placement?e.placement.distanceToCenter():Number.MAX_VALUE})},o=function(e){var t=e.filter((function(e){return e.playbackPriority===n.W.DOCKABLE}));return t.length?t[0]:a(e)}},820165:(e,t,r)=>{r.d(t,{A7:()=>i,Nw:()=>a,Yf:()=>n});var n="instreamVideo",i="rweb/".concat(n),a=Object.freeze({TIMELINE_HOME:"TIMELINE_HOME",SEARCH_TWEETS:"SEARCH_TWEETS",PROFILE_TWEETS:"PROFILE_TWEETS",OTHER:"OTHER"})},416254:(e,t,r)=>{r.d(t,{jc:()=>T,Q3:()=>Z,C:()=>D});r(154141);var n=r(701206),i=(r(767309),r(20959),r(762444),r(711749),r(834074),r(554037),r(879590)),a=r(934453),o=r(481741),l=r(152009),s=r(235014),c=r(820165),u=(r(974795),r(168997)),d=r(61971);function p(e){if(null==e)return null;var t,r=function(e){var t,r=e.card,n=e.extended_entities,i=void 0===n?{}:n,a=!(null===(t=i.media)||void 0===t||!t.length)&&i.media.some((function(e){var t=e.additional_media_info;return t&&t.monetizable})),o=u.Z.hasMixedMedia(e);return{hasMonetizableMedia:a,hasMultipleMediaItems:o,hasAmplifyCard:!!r&&r.name===d.Z.CardNames.AMPLIFY&&!0===d.Z.getBindingValue(r.binding_values,"dynamic_ads"),hasPeriscopeCard:(null==r?void 0:r.name)===d.Z.CardNames.PERISCOPE_BROADCAST,hasBroadcastCard:(null==r?void 0:r.name)===d.Z.CardNames.BROADCAST,hasEventCard:!!r&&r.name===d.Z.CardNames.LIVE_EVENT&&("video"===d.Z.getBindingValue(r.binding_values,"media_type")||"broadcast"===d.Z.getBindingValue(r.binding_values,"media_type"))}}(e),n=(t=r).hasMonetizableMedia||t.hasAmplifyCard||t.hasPeriscopeCard||t.hasBroadcastCard||t.hasEventCard,i=n&&function(e){var t=e.hasAmplifyCard||e.hasPeriscopeCard||e.hasBroadcastCard||e.hasEventCard;return e.hasMonetizableMedia&&!t}(r);return{hasMultipleMediaItems:r.hasMultipleMediaItems,legacy:n,redesign:i}}r(154917),r(790242);var y=r(57214);r(226362);function f(e){var t={tweet_id:e.id_str},r=e.promoted_content&&e.promoted_content.impression_id;return r&&(t.impression_id=r),e.card&&e.card.name===d.Z.CardNames.LIVE_EVENT&&(t.live_event_id=d.Z.getBindingValue(e.card.binding_values,"event_id")),t}const v=function(e){var t=e.apiClient;e.featureSwitches;return{fetch:function(e){var r={tweets:e.eligibleTweets.map(f)};e.trigger_preroll&&(r.trigger_preroll=e.trigger_preroll),e.prerollDisplayLocation&&(r.display_location=e.prerollDisplayLocation);var n={tweets:JSON.stringify(r)};return t.post("videoads/v2/prerolls",n,{},{})}}};var _=r(829753),h=r(30869),m=r(228996);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P="FETCH_PREROLLS",I=(0,m.dg)(c.A7,P),w=10;function E(e,t,r,i,a){if(!Array.isArray(e)||0===e.length)return Promise.resolve();var o=[],l=[o];return e.forEach((function(e){o.length===w&&(o=[],l.push(o)),o.push(e)})),Promise.all(l.map((function(e){return function(e,t,r,i,a){if(!Array.isArray(e)||0===e.length)return Promise.resolve();var o={eligibleTweets:e,prerollDisplayLocation:a};t&&(o.trigger_preroll=t);var l=(0,m._O)(r,{request:i.withEndpoint(v).fetch,params:o}),s=r((0,h.zr)(P)((0,n.Z)({showToast:!1},_.ZP.AccessDeniedByBouncer,{customAction:y.Z})));return l({actionTypes:I,context:"FETCH_PREROLLS"}).catch(s)}(e,t,r,i,a)}))).then((function(e){var t={};e.forEach((function(e){e&&e.prerolls&&(t=g(g({},t),function(e){var t={},r={};return Array.isArray(e.video_analytics_scribe)&&e.video_analytics_scribe.length&&e.video_analytics_scribe.forEach((function(e){t[e.tweet_id]=e.video_analytics_scribe_passthrough})),Array.isArray(e.prerolls)&&e.prerolls.length&&e.prerolls.forEach((function(e){e.media_info&&(r[e.tweet_id]=g(g({},e),{},{videoAnalyticsScribePassthrough:t[e.tweet_id]}))})),r}(e)))}));var n={type:T,payload:g(g({},{dynamicIVCollection:t}),{},{prerollDisplayLocation:a})};r(n)}))}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={fetchStatus:l.ZP.NONE,eligibleTweets:[],promotedMetadataCollection:{},prerollMetadataCollection:{},dynamicIVCollection:{},prerollEligibilityCollection:{}},S="rweb/instreamVideo/DYNAMIC_RESET",k="rweb/instreamVideo/STORE_METADATA",T="rweb/instreamVideo/DYNAMIC_STORE",R=(0,n.Z)({},c.Nw.OTHER,O);o.Z.register((0,n.Z)({},c.Yf,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case k:if(t.payload){var r=t.payload,i=r.eligibleTweets,a=r.prerollDisplayLocation,o=r.prerollEligibilityCollection,l=r.prerollMetadataCollection,s=r.promotedMetadataCollection;return C(C({},e),{},(0,n.Z)({},a,C(C(C({},O),e[a]),{},{eligibleTweets:i,prerollMetadataCollection:l,promotedMetadataCollection:s,prerollEligibilityCollection:o})))}break;case T:if(t.payload){var c=t.payload,u=c.dynamicIVCollection,d=c.prerollDisplayLocation;return C(C({},e),{},(0,n.Z)({},d,C(C(C({},O),e[d]),{},{dynamicIVCollection:u})))}break;case S:if(t.payload){var p=t.payload.prerollDisplayLocation;return C(C({},e),{},(0,n.Z)({},p,C(C(C({},O),e[p]),{},{dynamicIVCollection:{}})))}break;default:return e}return e})));var L=function(e,t){return e[c.Yf][t]||O};function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Nw.OTHER;return function(r,n,i){var o=i.api;i.featureSwitches;if(!Array.isArray(e))throw new Error("unable to fetch prerolls without timeline entries");if(e.length<1)return Promise.resolve();var l=n(),c=[],u={},d={},y={};return e.forEach((function(e){var t;if(e.content&&e.type===a.ZP.Tweet){var r=e.content,n=s.Z.selectHydrated(l,r.id);if(n){var i=n,o=r.prerollMetadata,f=r.promotedMetadata;if(f){var v=f.adMetadataContainer,_=f.disclosureType,h=f.impressionId;i.promoted_content={adMetadataContainer:v,disclosure_type:_,impression_id:h},d[i.id_str]=f}var m=p(i),b=m&&m.hasMultipleMediaItems;y[i.id_str]=m,null!=o&&null!==(t=o.preroll)&&void 0!==t&&t.mediaInfo&&!b&&(u[i.id_str]=o),null!=m&&m.legacy&&!b&&c.push(i)}}})),r({type:k,payload:C({},{eligibleTweets:c,prerollMetadataCollection:u,promotedMetadataCollection:d,prerollEligibilityCollection:y,prerollDisplayLocation:t})}),E(c.filter((function(e){return void 0===u[e.id_str]})),null,r,o,t)}}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Nw.OTHER;return function(r,n,a){var o=a.api;a.featureSwitches;if(e){var l=L(n(),t),s=l.dynamicIVCollection,c=l.eligibleTweets,u=l.prerollEligibilityCollection,d=l.prerollMetadataCollection,p=l.promotedMetadataCollection,y=s[e],f=p[e],v=u[e];if(y){r({type:S,payload:{prerollDisplayLocation:t}});var _=y.dynamic_preroll_type;return E(c,{preroll_id:y.preroll_id,dynamic_preroll_type:_},r,o,t),function(e,t,r,n){var a={adId:t.preroll_id,advertiserName:null,advertiserProfileImageUrl:null,mediaInfo:{call_to_action:null,duration_millis:t.media_info.duration_millis,publisher_id_str:t.media_info.publisher_id_str,variants:t.media_info.variants},promotedContent:{impressionId:void 0,disclosureType:void 0},videoAnalyticsScribePassthrough:t.videoAnalyticsScribePassthrough};if(t.promoted_content&&!r&&(a.promotedContent.impressionId=t.promoted_content.impression_id,a.promotedContent.disclosureType=t.promoted_content.disclosure_type),t.media_info.call_to_action){var o=t.media_info.call_to_action,l=o.type,s=o.url,c=(0,i.b)(s,null==r?void 0:r.clickTrackingInfo),u=null!=r&&r.clickTrackingInfo?{original_url:s,embedded_url:c,click_tracking_info:r.clickTrackingInfo,embed_status:(0,i.R)(s,r.clickTrackingInfo)}:void 0;a.mediaInfo.call_to_action={type:l,url:c,click_tracking_embed_details:u}}if(t.media_info.render_ad_by_advertiser_name){var d=t.media_info,p=d.advertiser_name,y=d.advertiser_profile_image_url;a.advertiserName=p,a.advertiserProfileImageUrl=y}if(null!=n&&n.redesign){a.shouldAutoAdvance=!1,a.useRedesignedPrerollUx=!0;var f=t.media_info,v=f.advertiser_name,_=f.advertiser_profile_image_url;a.advertiserName=v,a.advertiserProfileImageUrl=_}return a}(0,y,f,v)}var h=d[e];if(h){var m=function(e,t,r,n){if(!t.preroll||!t.preroll.mediaInfo)return null;var a=t.preroll,o=a.mediaInfo,l=a.prerollId,s=o.videoVariants.map((function(e){return{url:e.url,content_type:e.contentType,bitrate:e.bitrate}})),c={adId:l,advertiserName:null,advertiserProfileImageUrl:null,mediaInfo:{call_to_action:void 0,duration_millis:o.durationMillis,publisher_id_str:o.publisherId,variants:s},promotedContent:{impressionId:void 0,disclosureType:void 0}};if(o.callToAction){var u=o.callToAction,d=u.type,p=u.url,y=(0,i.b)(p,null==r?void 0:r.clickTrackingInfo),f=null!=r&&r.clickTrackingInfo?{original_url:p,embedded_url:y,click_tracking_info:r.clickTrackingInfo,embed_status:(0,i.R)(p,r.clickTrackingInfo)}:void 0;c.mediaInfo.call_to_action={type:d,url:y,click_tracking_embed_details:f}}if(o.renderAdByAdvertiserName){var v=o.advertiserName,_=o.advertiserProfileImageUrl;c.advertiserName=v,c.advertiserProfileImageUrl=_}if(null!=n&&n.redesign){c.shouldAutoAdvance=!1,c.useRedesignedPrerollUx=!0;var h=o.advertiserName,m=o.advertiserProfileImageUrl;c.advertiserName=h,c.advertiserProfileImageUrl=m}return c}(0,h,f,v);if(m)return m}}return{}}}},418791:(e,t,r)=>{r.d(t,{cM:()=>b,dS:()=>m,iY:()=>g});r(20959),r(711749),r(154141),r(834074);var n=r(701206),i=(r(762444),r(660466)),a=r(381076),o=r(356394),l=r(481741),s=r(228996);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={},p=Object.freeze({REQUEST:"rweb/promotedContent/LOG_REQUEST",SUCCESS:"rweb/promotedContent/LOG_SUCCESS",FAILURE:"rweb/promotedContent/LOG_FAILURE"}),y="rweb/promotedContent/LOG_UNIQUE_EVENT",f=(0,i.Z)([o.dx.IMPRESSION,o.dx.DWELL]),v=(0,i.Z)([o.AJ.TREND_VIEW,o.AJ.SPOTLIGHT_IMPRESSION]),_=function(e){return{payload:{eventKey:e},type:y}};var h=function(e,t){return!!e.promotedContent[t]},m=function(e){return function(t,r,n){var i=n.api,o=e.event,l=e.impression_id,c=e.promoted_trend_id,u="trend-".concat(c,"-").concat(o);if(v.has(o)&&h(r(),u))return Promise.resolve();var d={promoted_trend_id:c,event:o,impression_id:l};return(0,s._O)(t,{params:d,request:i.withEndpoint(a.Z).log})({actionTypes:p,context:"APP_PROMOTED_CONTENT_LOG",meta:d},(function(e,t){if(!t&&v.has(o))return[_(u)]}))}},b=function(e){var t=e.disclosureType,r=e.itemId,n=e.itemType,i=e.params;return function(e,o,l){var c=l.api,d=i.event,y=i.impression_id,v="".concat(n,"-").concat(null!=r?r:"undefined","-").concat(null!=y?y:"undefined","-").concat(null!=d?d:"undefined");if(f.has(d)&&h(o(),v))return Promise.resolve();var m=t&&"earned"===t.toLowerCase()?"1":null,b=u(u({},i),{},{earned:m,epoch_ms:Date.now()});return(0,s._O)(e,{params:b,request:c.withEndpoint(a.Z).log})({actionTypes:p,context:"APP_PROMOTED_CONTENT_LOG",meta:b},(function(e,t){if(!t&&f.has(d))return[_(v)]}))}},g=function(e){return function(t,r,n){var i=n.api;return(0,s._O)(t,{params:e,request:i.withEndpoint(a.Z).log})({actionTypes:p,context:"APP_PROMOTED_CONTENT_LOG",meta:e})}};l.Z.register({promotedContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;if(!t)return e;if(t.type===y){if(!t.payload)return e;var r=t.payload.eventKey;return u(u({},e),{},(0,n.Z)({},r,!0))}return e}})},398309:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(652983),i=r(333030);const a=n.createContext({playbackPriority:i.W.NORMAL})},376590:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e,t){var r=null,n=function(){r=null,e()};return function(){return r||(r=t(n)),r}}},907411:(e,t,r)=>{var n=r(953198),i=r(13895),a=r(296857),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},768142:(e,t,r)=>{var n=r(8258);e.exports=n},781475:(e,t,r)=>{var n=r(816686);e.exports=n(1..valueOf)},383755:(e,t,r)=>{var n=r(808329),i=r(729457).map;n({target:"Array",proto:!0,forced:!r(907411)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},77949:(e,t,r)=>{var n=r(808329),i=r(492372),a=r(260142),o=r(150896),l=r(230454),s=r(911344),c=r(849304),u=r(198097),d=r(13895),p=r(907411),y=r(470839),f=p("slice"),v=d("species"),_=Array,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,d,p=c(this),f=s(p),m=l(e,f),b=l(void 0===t?f:t,f);if(i(p)&&(r=p.constructor,(a(r)&&(r===_||i(r.prototype))||o(r)&&null===(r=r[v]))&&(r=void 0),r===_||void 0===r))return y(p,m,b);for(n=new(void 0===r?_:r)(h(b-m,0)),d=0;m<b;m++,d++)m in p&&u(n,d,p[m]);return n.length=d,n}})},400614:(e,t,r)=>{var n=r(808329),i=r(403494),a=r(669140),o=r(8258),l=r(768142),s=r(816686),c=r(136030),u=r(677757),d=r(169348),p=r(951879),y=r(622459),f=r(42971),v=r(953198),_=r(63323).f,h=r(884697).f,m=r(171689).f,b=r(781475),g=r(33504).trim,P="Number",I=o[P],w=l[P],E=I.prototype,A=o.TypeError,C=s("".slice),O=s("".charCodeAt),S=function(e){var t,r,n,i,a,o,l,s,c=f(e,"number");if(y(c))throw new A("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=g(c),43===(t=O(c,0))||45===t){if(88===(r=O(c,2))||120===r)return NaN}else if(48===t){switch(O(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(a=C(c,2)).length,l=0;l<o;l++)if((s=O(a,l))<48||s>i)return NaN;return parseInt(a,n)}return+c},k=c(P,!I(" 0o1")||!I("0b1")||I("+0x1")),T=function(e){var t,r=arguments.length<1?0:I(function(e){var t=f(e,"number");return"bigint"==typeof t?t:S(t)}(e));return p(E,t=this)&&v((function(){b(t)}))?d(Object(r),this,T):r};T.prototype=E,k&&!i&&(E.constructor=T),n({global:!0,constructor:!0,wrap:!0,forced:k},{Number:T});var R=function(e,t){for(var r,n=a?_(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)u(t,r=n[i])&&!u(e,r)&&m(e,r,h(t,r))};i&&w&&R(l[P],w),(k||i)&&R(l[P],I)},356572:(e,t,r)=>{var n=r(808329),i=r(264203);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},750162:(e,t,r)=>{var n=r(808329),i=r(815455),a=r(466262);n({target:"Object",stat:!0,forced:r(953198)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},279295:(e,t,r)=>{r.d(t,{xu:()=>n});Symbol("RESET");function n(e,t){let r=null;const n=new Map,i=new Set,a=i=>{let l;if(void 0===t)l=n.get(i);else for(const[e,r]of n)if(t(e,i)){l=r;break}if(void 0!==l){if(!(null==r?void 0:r(l[1],i)))return l[0];a.remove(i)}const s=e(i);return n.set(i,[s,Date.now()]),o("CREATE",i,s),s};function o(e,t,r){for(const n of i)n({type:e,param:t,atom:r})}return a.unstable_listen=e=>(i.add(e),()=>{i.delete(e)}),a.getParams=()=>n.keys(),a.remove=e=>{if(void 0===t){if(!n.has(e))return;const[t]=n.get(e);n.delete(e),o("REMOVE",e,t)}else for(const[r,[i]]of n)if(t(r,e)){n.delete(r),o("REMOVE",r,i);break}},a.setShouldRemove=e=>{if(r=e,r)for(const[e,[t,i]]of n)r(i,e)&&(n.delete(e),o("REMOVE",e,t))},a}const i=e=>"function"==typeof(null==e?void 0:e.then);!function(e=()=>{try{return window.localStorage}catch(e){return void 0}},t){var r;let n,a;const o={getItem:(r,o)=>{var l,s;const c=e=>{if(n!==(e=e||"")){try{a=JSON.parse(e,null==t?void 0:t.reviver)}catch(e){return o}n=e}return a},u=null!=(s=null==(l=e())?void 0:l.getItem(r))?s:null;return i(u)?u.then(c):c(u)},setItem:(r,n)=>{var i;return null==(i=e())?void 0:i.setItem(r,JSON.stringify(n,null==t?void 0:t.replacer))},removeItem:t=>{var r;return null==(r=e())?void 0:r.removeItem(t)}};let l;try{l=null==(r=e())?void 0:r.subscribe}catch(e){}var s;!l&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(l=(t,r)=>{if(!(e()instanceof window.Storage))return()=>{};const n=n=>{n.storageArea===e()&&n.key===t&&r(n.newValue)};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}),l&&(o.subscribe=(s=l,(e,t,r)=>s(e,(e=>{let n;try{n=JSON.parse(e||"")}catch(e){n=r}t(n)}))))}()}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.InlinePlayer.1a97265a.js.map